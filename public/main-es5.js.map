{"version":3,"sources":["webpack:///$_lazy_route_resource lazy namespace object","webpack:///src/app/app.component.ts","webpack:///src/app/app.component.html","webpack:///src/app/app.module.ts","webpack:///src/app/components/home/home.component.ts","webpack:///src/app/components/home/home.component.html","webpack:///src/app/components/profile/profile.component.ts","webpack:///src/app/components/profile/profile.component.html","webpack:///src/app/components/register/register.component.ts","webpack:///src/app/components/register/register.component.html","webpack:///src/app/components/sign-in/sign-in.component.ts","webpack:///src/app/components/sign-in/sign-in.component.html","webpack:///src/app/services/auth-guard.service.ts","webpack:///src/app/services/authentication.service.ts","webpack:///src/environments/environment.ts","webpack:///src/main.ts"],"names":["webpackEmptyAsyncContext","req","Promise","resolve","then","e","Error","code","keys","module","exports","id","auth","AppComponent","title","x","document","getElementById","navSignIn","userDropdown","className","body","scrollIntoView","behavior","block","myFunction","toTop","selector","templateUrl","styleUrls","routes","path","component","canActivate","redirectTo","pathMatch","AppModule","forRoot","declarations","imports","providers","bootstrap","HomeComponent","ProfileComponent","currentPassword","newPassword","confirmationPassword","getUserDetails","profile","subscribe","user","details","err","console","error","log","salt","getHash","next","data","hash","updateUser","password","login","save","RegisterComponent","router","credentials","name","email","role","firstName","lastName","register","navigateByUrl","SignInComponent","AuthGuardService","isLoggedIn","providedIn","httpOptions","headers","AuthenticationService","http","BACKEND_URL_USERS","token","localStorage","setItem","getItem","getToken","payload","split","window","atob","JSON","parse","exp","Date","now","method","type","base","post","get","Authorization","request","pipe","saveToken","removeItem","put","_id","environment","production","bootstrapModule"],"mappings":"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","file":"main-es5.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","import { Component } from '@angular/core';\r\nimport { AuthenticationService } from './services/authentication.service';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.css']\r\n})\r\nexport class AppComponent {\r\n  title = 'Dietary habits';\r\n\r\n  constructor(public auth: AuthenticationService) {}\r\n\r\n  myFunction() {\r\n    const x = document.getElementById('myTopnav');\r\n    const navSignIn = document.getElementById('navSignIn');\r\n    const userDropdown = document.getElementById('userDropdown');\r\n\r\n    if (x.className === 'topnav') {\r\n        x.className += ' responsive';\r\n        if (navSignIn !== null) {\r\n          navSignIn.className = '';\r\n        }\r\n        if (userDropdown !== null) {\r\n          userDropdown.className = 'dropdown';\r\n        }\r\n    } else {\r\n        x.className = 'topnav';\r\n        if (navSignIn !== null) {\r\n          navSignIn.className = 'w3-right';\r\n        }\r\n        if (userDropdown !== null) {\r\n          userDropdown.className = 'dropdown w3-right';\r\n        }\r\n    }\r\n  }\r\n\r\n  toTop() {\r\n    document.body.scrollIntoView({behavior: 'smooth', block: 'start'});\r\n  }\r\n}\r\n","<head>\r\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\r\n</head>\r\n<div class=\"topnav\" id=\"myTopnav\">\r\n  <a routerLink=\"/home\"><i class=\"fa fa-home\"></i> Home</a>\r\n\r\n  <a *ngIf=\"!auth.isLoggedIn()\" class=\"w3-right\" id=\"navSignIn\" routerLink=\"/sign-in\"><i class=\"fa fa-sign-in\"></i> Sign in</a>\r\n\r\n  <div class=\"dropdown w3-right\" id=\"userDropdown\" *ngIf=\"auth.isLoggedIn()\">\r\n    <button class=\"dropbtn\"><i class=\"fa fa-user\"></i> {{ auth.getUserDetails()?.name}}\r\n      <i class=\"fa fa-caret-down\"></i>\r\n    </button>\r\n    <div class=\"dropdown-content\">\r\n        <a style=\"cursor: pointer;\" routerLink=\"/profile\"><i class=\"fa fa-user\"></i> My profile</a>\r\n      <a style=\"cursor: pointer;\" (click)=\"auth.logout()\"><i class=\"fa fa-sign-out\"></i> Logout</a>\r\n    </div>\r\n  </div>\r\n\r\n  <a class=\"icon\" (click)=\"myFunction()\">\r\n    <i class=\"fa fa-bars\"></i>\r\n  </a>\r\n</div>\r\n\r\n<router-outlet></router-outlet>\r\n\r\n<footer class=\"w3-container w3-padding-32 w3-dark-grey w3-center\">\r\n  <div class=\"w3-padding-16\"><span class=\"w3-xlarge w3-border-teal w3-bottombar\">Contact</span></div>\r\n    <p><i class=\"fa fa-map-marker w3-text-teal w3-xlarge\"></i>  John Kennedy 36, New Belgrade, Serbia</p>\r\n    <p><i class=\"fa fa-clock-o w3-text-teal w3-xlarge\"></i>  Mon-Fri : 09-17h</p>\r\n    <p><i class=\"fa fa-phone w3-text-teal w3-xlarge\"></i>  +38165515524</p>\r\n    <p><i class=\"fa fa-envelope-o w3-text-teal w3-xlarge\"></i>  contact@dietaryhabits.com</p>\r\n<a class=\"w3-button w3-black w3-margin\" (click)=\"toTop()\"><i class=\"fa fa-arrow-up w3-margin-right\"></i>To top</a>\r\n<div class=\"w3-xlarge w3-section\">\r\n<i class=\"fa fa-facebook-official w3-hover-opacity\" style=\"padding: 5pt;\"></i>\r\n<i class=\"fa fa-instagram w3-hover-opacity\" style=\"padding: 5pt;\"></i>\r\n<i class=\"fa fa-snapchat w3-hover-opacity\" style=\"padding: 5pt;\"></i>\r\n<i class=\"fa fa-pinterest-p w3-hover-opacity\" style=\"padding: 5pt;\"></i>\r\n<i class=\"fa fa-twitter w3-hover-opacity\" style=\"padding: 5pt;\"></i>\r\n<i class=\"fa fa-linkedin w3-hover-opacity\" style=\"padding: 5pt;\"></i>\r\n</div>\r\n<p>Powered by <a class=\"w3-hover-text-green\">someone</a></p>\r\n</footer>\r\n","import { BrowserModule } from '@angular/platform-browser';\r\nimport { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { HttpClientModule } from '@angular/common/http';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { AppComponent } from './app.component';\r\nimport { HomeComponent } from './components/home/home.component';\r\nimport { ProfileComponent } from './components/profile/profile.component';\r\nimport { SignInComponent } from './components/sign-in/sign-in.component';\r\nimport { AuthGuardService } from './services/auth-guard.service';\r\nimport { RegisterComponent } from './components/register/register.component';\r\n\r\nconst routes: Routes = [\r\n  { path: 'home', component: HomeComponent },\r\n  { path: 'sign-in', component: SignInComponent },\r\n  { path: 'register', component: RegisterComponent },\r\n  { path: 'profile', component: ProfileComponent, canActivate: [AuthGuardService] },\r\n  { path: '**', redirectTo: '/home', pathMatch: 'full' }\r\n];\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent,\r\n    HomeComponent,\r\n    ProfileComponent,\r\n    SignInComponent,\r\n    RegisterComponent\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    RouterModule.forRoot(routes),\r\n    FormsModule,\r\n    HttpClientModule\r\n  ],\r\n  providers: [],\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule { }\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-home',\r\n  templateUrl: './home.component.html',\r\n  styleUrls: ['./home.component.css']\r\n})\r\nexport class HomeComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<div class=\"siva\">\r\n    <header class=\"w3-display-container w3-content w3-wide\" style=\"max-width:1500px;\" id=\"home\">\r\n        <img class=\"w3-image\" src=\"../../../assets/bg.jpg\" alt=\"Food table\" width=\"1500\" height=\"800\">\r\n        <div class=\"w3-display-middle w3-margin-top w3-center\">\r\n          <h1 class=\"w3-xxxlarge w3-text-white\"><span class=\"w3-padding w3-black\" style=\"opacity: 0.8;\"><b>Dietary habits</b></span><br><br> <span class=\"w3-hide-small w3-text-light-grey\">Welcome!</span></h1>\r\n        </div>\r\n      </header>\r\n\r\n</div>","import { Component, OnInit } from '@angular/core';\r\nimport { UserDetails, AuthenticationService } from '../../services/authentication.service';\r\nimport * as CryptoJS from 'crypto-js';\r\n\r\n@Component({\r\n  selector: 'app-profile',\r\n  templateUrl: './profile.component.html',\r\n  styleUrls: ['./profile.component.css']\r\n})\r\nexport class ProfileComponent implements OnInit {\r\n\r\n  details: any;\r\n  currentPassword = '';\r\n  newPassword = '';\r\n  confirmationPassword = '';\r\n\r\n  constructor(private auth: AuthenticationService) {}\r\n\r\n  ngOnInit() {\r\n    this.getUserDetails();\r\n  }\r\n\r\n  getUserDetails() {\r\n    this.auth.profile().subscribe(user => {\r\n      this.details = user;\r\n    }, (err) => {\r\n      console.error(err);\r\n    });\r\n  }\r\n\r\n  save() {\r\n    if(this.newPassword !== this.confirmationPassword) {\r\n      console.log(\"New password and Confirmation password do not match\");\r\n      return;\r\n    }\r\n    var req = {\r\n      currentPassword: this.currentPassword,\r\n      salt: this.details.salt\r\n    };\r\n    this.auth.getHash(req).subscribe({\r\n      next: data => {\r\n        if (this.details.hash === data.hash) {\r\n          this.details.newPassword = this.newPassword;\r\n          this.auth.updateUser(this.details).subscribe({\r\n            next: data => {\r\n              if(this.newPassword !== ''){\r\n                this.details.password = this.newPassword;\r\n              } else {\r\n                this.details.password = this.currentPassword;\r\n              }\r\n              this.auth.login(this.details).subscribe(() => {\r\n                console.log('Changes saved!');\r\n              }, (err) => {\r\n                console.error(err);\r\n              });\r\n              this.getUserDetails();\r\n              this.currentPassword = '';\r\n              this.newPassword = '';\r\n              this.confirmationPassword = '';\r\n            },\r\n            error: error => {\r\n              console.log(error);\r\n            }\r\n          });\r\n        } else {\r\n          console.log('Current password is not correct!');\r\n        }\r\n      },\r\n      error: error => {\r\n        console.log(error);\r\n      }\r\n    });\r\n  }\r\n\r\n}\r\n","<div class=\"w3-center w3-padding\" style=\"margin:0 auto; max-width: 600px;\">\r\n    <div class=\"w3-card-4\">\r\n      <div class=\"w3-container w3-teal\">\r\n        <h2>My profile</h2>\r\n      </div>\r\n      <form class=\"w3-container\" #formControl=\"ngForm\">\r\n\r\n          <p>\r\n              <label class=\"w3-text-teal\">\r\n                <b>Name</b>\r\n              </label>\r\n              <input required [(ngModel)]=\"details.name\" name=\"name\" type=\"text\" style=\"text-align: center;\"\r\n                class=\"w3-input w3-border w3-light-grey\">\r\n            </p>\r\n        <p>\r\n          <label class=\"w3-text-teal\">\r\n            <b>Email</b>\r\n          </label>\r\n          <input required [(ngModel)]=\"details.email\" pattern=\"[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,}$\" name=\"email\" type=\"text\" style=\"text-align: center;\"\r\n            class=\"w3-input w3-border w3-light-grey\">\r\n          <label class=\"w3-text-grey\" style=\"font-style: italic\">\r\n            <b>someone@domain.domain</b>\r\n          </label>\r\n        </p>\r\n        <p>\r\n          <label class=\"w3-text-teal\">\r\n            <b>New password</b>\r\n          </label>\r\n          <input [(ngModel)]=\"newPassword\" name=\"newpassword\" minlength=\"8\" maxlength=\"20\" pattern=\"^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]{8,20}$\"\r\n            type=\"password\" style=\"text-align: center;\" class=\"w3-input w3-border w3-light-grey\">\r\n          <label class=\"w3-text-grey\" style=\"font-style: italic\">\r\n            <b style=\"font-size: 9pt;\">Minimum 8 and maximum 20 characters. It must contain at least one lowercase and uppercase letter, a number as well\r\n              as a special character.\r\n              <span style=\"color: red;\"> (Only if you want to change the current password)</span>\r\n            </b>\r\n          </label>\r\n        </p>\r\n        <p>\r\n          <label class=\"w3-text-teal\">\r\n            <b>Confirmation password</b>\r\n          </label>\r\n          <input [(ngModel)]=\"confirmationPassword\" name=\"confirmationpassword\" minlength=\"8\" maxlength=\"20\" pattern=\"^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]{8,20}$\"\r\n            type=\"password\" style=\"text-align: center;\" class=\"w3-input w3-border w3-light-grey\">\r\n          <label class=\"w3-text-grey\" style=\"font-style: italic\">\r\n              <b style=\"font-size: 9pt;\">Enter the new password again to confirm it.\r\n                  <span style=\" color: red;\"> (Only if you want to change the current password)</span>\r\n            </b>\r\n          </label>\r\n        </p>\r\n\r\n        <p>\r\n            <label class=\"w3-text-teal\">\r\n              <b>Current password <span style=\" color: red;\"> *</span></b>\r\n            </label>\r\n            <label class=\"w3-text-grey\" style=\"font-style: italic\">\r\n            </label>\r\n            <input required [(ngModel)]=\"currentPassword\" minlength=\"1\" maxlength=\"40\" name=\"oldpassword\" type=\"password\" style=\"text-align: center;\"\r\n              class=\"w3-input w3-border w3-light-grey\">\r\n          </p>\r\n\r\n        <p class=\"w3-center\">\r\n          <button [disabled]=\"!formControl.valid\" (click)=\"save()\" class=\"w3-btn w3-teal\">Save changes</button>\r\n        </p>\r\n      </form>\r\n    </div>\r\n  </div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { AuthenticationService, TokenPayload } from '../../services/authentication.service';\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-register',\r\n  templateUrl: './register.component.html',\r\n  styleUrls: ['./register.component.css']\r\n})\r\nexport class RegisterComponent implements OnInit {\r\n\r\n  firstName: '';\r\n  lastName: '';\r\n  confirmationPassword: '';\r\n\r\n  credentials: TokenPayload = {\r\n    name:'',\r\n    email: '',\r\n    password: '',\r\n    role: ''\r\n  };\r\n\r\n  constructor(private auth: AuthenticationService, private router: Router) { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  register() {\r\n    if (this.credentials.password === this.confirmationPassword) {\r\n      this.credentials.name = this.firstName + ' ' + this.lastName;\r\n      this.auth.register(this.credentials).subscribe(() => {\r\n        this.router.navigateByUrl('/profile');\r\n      }, (err) => {\r\n        console.error(err);\r\n      });\r\n    } else {\r\n      console.log('Password and Confirmation password do not match');\r\n    }\r\n\r\n  }\r\n\r\n}\r\n","<div class=\"w3-center w3-padding\" style=\"margin:0 auto; max-width: 600px;\">\r\n    <div class=\"w3-card-4\">\r\n      <div class=\"w3-container w3-teal\">\r\n        <h2>Register form</h2>\r\n      </div>\r\n      <form class=\"w3-container\" #formControl=\"ngForm\">\r\n        <p>\r\n          <label class=\"w3-text-teal\">\r\n            <b>First name</b>\r\n          </label>\r\n          <input required [(ngModel)]=\"firstName\" minlength=\"2\" maxlength=\"40\" name=\"first\" type=\"text\" style=\"text-align: center;\"\r\n            class=\"w3-input w3-border w3-light-grey\">\r\n        </p>\r\n        <p>\r\n          <label class=\"w3-text-teal\">\r\n            <b>Last name</b>\r\n          </label>\r\n          <input required [(ngModel)]=\"lastName\" minlength=\"2\" maxlength=\"40\" name=\"last\" type=\"text\" style=\"text-align: center;\" class=\"w3-input w3-border w3-light-grey\">\r\n        </p>\r\n        <p>\r\n          <label class=\"w3-text-teal\">\r\n            <b>Email</b>\r\n          </label>\r\n          <input required [(ngModel)]=\"credentials.email\" pattern=\"[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,}$\" minlength=\"1\" maxlength=\"40\"\r\n            name=\"email\" type=\"text\" style=\"text-align: center;\" class=\"w3-input w3-border w3-light-grey\">\r\n        </p>\r\n        <p>\r\n          <label class=\"w3-text-teal\">\r\n            <b>Password</b>\r\n          </label>\r\n          <label class=\"w3-text-grey\" style=\"font-style: italic\">\r\n          </label>\r\n          <input required [(ngModel)]=\"credentials.password\" minlength=\"8\" maxlength=\"20\" pattern=\"^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]{8,20}$\" name=\"password\" type=\"password\" style=\"text-align: center;\"\r\n            class=\"w3-input w3-border w3-light-grey\">\r\n            <label class=\"w3-text-grey\" style=\"font-style: italic\">\r\n                <b style=\"font-size: 9pt;\">Minimum 8 and maximum 20 characters. It must contain at least one lowercase and uppercase letter, a number as well\r\n                  as a special character.\r\n                </b>\r\n              </label>\r\n        </p>\r\n\r\n        <p>\r\n          <label class=\"w3-text-teal\">\r\n            <b>Confirmation password</b>\r\n          </label>\r\n          <label class=\"w3-text-grey\" style=\"font-style: italic\">\r\n          </label>\r\n          <input required [(ngModel)]=\"confirmationPassword\" minlength=\"8\" maxlength=\"20\" pattern=\"^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]{8,20}$\" name=\"password\" type=\"password\" style=\"text-align: center;\"\r\n            class=\"w3-input w3-border w3-light-grey\">\r\n          <label class=\"w3-text-grey\" style=\"font-style: italic\">\r\n            <b style=\"font-size: 9pt;\">Enter the new password again to confirm it.</b>\r\n          </label>\r\n        </p>\r\n\r\n        <p class=\"w3-center\">\r\n          <button [disabled]=\"!formControl.valid\" (click)=\"register()\" class=\"w3-btn w3-teal\">Register</button>\r\n        </p>\r\n      </form>\r\n    </div>\r\n  </div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { TokenPayload, AuthenticationService } from '../../services/authentication.service';\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-sign-in',\r\n  templateUrl: './sign-in.component.html',\r\n  styleUrls: ['./sign-in.component.css']\r\n})\r\nexport class SignInComponent implements OnInit {\r\n\r\n  credentials: TokenPayload = {\r\n    email: '',\r\n    password: '',\r\n    role: ''\r\n  };\r\n\r\n  constructor( private auth: AuthenticationService, private router: Router ) {}\r\n\r\n\r\n  login() {\r\n    this.auth.login(this.credentials).subscribe(() => {\r\n      this.router.navigateByUrl('/profile');\r\n    }, (err) => {\r\n      console.error(err);\r\n    });\r\n  }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<div class=\"w3-center w3-padding\" style=\"margin:0 auto; max-width: 600px;\">\r\n  <div class=\"w3-card-4\">\r\n    <div class=\"w3-container w3-teal\">\r\n      <h2>Sign-in</h2>\r\n    </div>\r\n    <form class=\"w3-container\" #formControl=\"ngForm\">\r\n      <p>\r\n        <label class=\"w3-text-teal\">\r\n          <b>Email</b>\r\n        </label>\r\n        <input required [(ngModel)]=\"credentials.email\" pattern=\"[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,}$\" minlength=\"1\" maxlength=\"40\" name=\"email\" type=\"text\" style=\"text-align: center;\" class=\"w3-input w3-border w3-light-grey\">\r\n      </p>\r\n      <p>\r\n        <label class=\"w3-text-teal\">\r\n          <b>Password</b>\r\n        </label>\r\n        <label class=\"w3-text-grey\" style=\"font-style: italic\">\r\n        </label>\r\n        <input required [(ngModel)]=\"credentials.password\" minlength=\"1\" maxlength=\"40\" name=\"password\" type=\"password\" style=\"text-align: center;\" class=\"w3-input w3-border w3-light-grey\">\r\n      </p>\r\n\r\n      <p class=\"w3-center\">\r\n        <button [disabled]=\"!formControl.valid\" (click)=\"login()\" class=\"w3-btn w3-teal\">Sign-in</button>\r\n      </p>\r\n    </form>\r\n  </div>\r\n  <div class=\"w3-padding-32\">If you don't have an account <a style=\"cursor: pointer;\" routerLink=\"/register\"> <button class=\"w3-btn w3-teal\"><i class=\"fa fa-user\"></i> Register</button></a></div>\r\n</div>\r\n","import { Injectable } from '@angular/core';\r\nimport { CanActivate, Router } from '@angular/router';\r\nimport { AuthenticationService } from './authentication.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class AuthGuardService implements CanActivate {\r\n\r\n  constructor(private auth: AuthenticationService, private router: Router) { }\r\n\r\n  canActivate() {\r\n    if (!this.auth.isLoggedIn()) {\r\n      this.router.navigateByUrl('/');\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { Router } from '@angular/router';\r\nimport { Observable } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\n\r\nconst httpOptions = {\r\n  headers: new HttpHeaders({\r\n    'Content-Type':  'application/json',\r\n  })\r\n};\r\n\r\nexport interface UserDetails {\r\n  _id: string;\r\n  email: string;\r\n  name: string;\r\n  role:string;\r\n  exp: number;\r\n  iat: number;\r\n}\r\n\r\ninterface TokenResponse {\r\n  token: string;\r\n}\r\n\r\nexport interface TokenPayload {\r\n  email: string;\r\n  password: string;\r\n  name?: string;\r\n  role:string;\r\n}\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class AuthenticationService {\r\n\r\n  private token: string;\r\n\r\n  private BACKEND_URL_USERS = 'https://dietary-habits.herokuapp.com/users'\r\n\r\n  constructor(private http: HttpClient, private router: Router) {}\r\n\r\n  private saveToken(token: string): void {\r\n    localStorage.setItem('mean-token', token);\r\n    this.token = token;\r\n  }\r\n\r\n  private getToken(): string {\r\n    if (!this.token) {\r\n      this.token = localStorage.getItem('mean-token');\r\n    }\r\n    return this.token;\r\n  }\r\n\r\n\r\n  public getUserDetails(): UserDetails {\r\n    const token = this.getToken();\r\n    let payload;\r\n    if (token) {\r\n      payload = token.split('.')[1];\r\n      payload = window.atob(payload);\r\n      return JSON.parse(payload);\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  public isLoggedIn(): boolean {\r\n    const user = this.getUserDetails();\r\n    if (user) {\r\n      return user.exp > Date.now() / 1000;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public isAdmin(): boolean {\r\n    const user = this.getUserDetails();\r\n    if(user){\r\n      if(user.role === 'admin'){\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  private request(method: 'post'|'get', type: 'login'|'register'|'profile', user?: TokenPayload): Observable<any> {\r\n    let base;\r\n\r\n    if (method === 'post') {\r\n      base = this.http.post(this.BACKEND_URL_USERS + `/${type}`, user);\r\n    } else {\r\n      base = this.http.get(this.BACKEND_URL_USERS + `/${type}`, { headers: { Authorization: `Bearer ${this.getToken()}` }});\r\n    }\r\n\r\n    const request = base.pipe(\r\n      map((data: TokenResponse) => {\r\n        if (data.token) {\r\n          this.saveToken(data.token);\r\n        }\r\n        return data;\r\n      })\r\n    );\r\n\r\n    return request;\r\n  }\r\n\r\n  public register(user: TokenPayload): Observable<any> {\r\n    return this.request('post', 'register', user);\r\n  }\r\n\r\n  public login(user: TokenPayload): Observable<any> {\r\n    return this.request('post', 'login', user);\r\n  }\r\n\r\n  public profile(): Observable<any> {\r\n    return this.request('get', 'profile');\r\n  }\r\n\r\n  public logout(): void {\r\n    this.token = '';\r\n    window.localStorage.removeItem('mean-token');\r\n    this.router.navigateByUrl('/');\r\n  }\r\n\r\n  public getHash(body): Observable<any> {\r\n    return this.http.post(this.BACKEND_URL_USERS + '/hash', body, httpOptions);\r\n  }\r\n\r\n  public updateUser(user): Observable<any> {\r\n    return this.http.put(this.BACKEND_URL_USERS + '/update/' + user._id, user ,httpOptions);\r\n  }\r\n}\r\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"]}